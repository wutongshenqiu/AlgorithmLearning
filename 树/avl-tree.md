## 平衡二叉树(AVL tree)

- **自平衡[^1]==二叉查找树[^2]==**
- **任意节点**对应的左右子树的最大高度差为1
  - **平衡因子**：左子树的高度减去右子树的高度(或相反)
    - 节点的平衡因子为$-1,0,1$时被认为是平衡的，否则是不平衡的，此时需要重新进行平衡操作
  - 平衡二叉树中的所有节点都是平衡的
- 插入和删除在平均和最坏情况下的时间复杂度都是$O(\log n)$



### 基本操作

- 针对**deepest unbalanced node**
- 左旋和右旋[^3]



### 需要平衡的四种情况[^3]

- LL
  - 左孩子的左子树增加节点导致不平衡
  - **右旋根节点**
- RR
  - 右孩子的右子树增加节点导致不平衡
  - **左旋根节点**
- LR
  - 左孩子的右子树增加节点导致不平衡
  - **左旋左孩子+右旋根节点**
- RL
  - 右孩子的左子树增加节点导致不平衡
  - **右旋右孩子+左旋根节点**



### Refs

[^1]: [平衡树](https://zh.wikipedia.org/wiki/%E5%B9%B3%E8%A1%A1%E6%A0%91)
[^2]: [二叉搜索树](https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%85%83%E6%90%9C%E5%B0%8B%E6%A8%B9)
[^3]: [左旋和右旋](https://zhuanlan.zhihu.com/p/34899732)